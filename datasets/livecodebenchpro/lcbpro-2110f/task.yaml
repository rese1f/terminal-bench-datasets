descriptions:
  - key: base
    description: |
      LiveCodeBench Pro (Mini) - external judge.

      The agent must create a C++17 solution file at /app/main.cpp.
      This task does not include local test cases. Instead, the test harness:
        1) POSTs the code to the external judge (/submit) to get a sid,
        2) polls GET /result/{sid}?short=1 until status == "done",
        3) passes only if the judge returns passed == true.

      Environment variables (overridable at runtime):
        - BASE_URL: judge base URL (default http://38.80.122.117:8081)
        - PID: problem id (default 2110F)
        - LANG: language (default cpp)
        - CODE_PATH: path to code (default /app/main.cpp)
        - JUDGE_TIMEOUT_SECS: poll timeout seconds (default 120)
  - key: problem
    description: |
      In 2077, after the world was enslaved by robots, the robots decided to implement an educational reform, and now the operation of taking the modulus is only taught in the faculty of "Ancient World History". Here is one of the entrance tasks for this faculty:

      We define the beauty of an array of positive integers $b$ as the maximum $f(b_i, b_j)$ over all pairs $1 \leq i, j \leq n$, where $f(x, y) = (x \bmod y) + (y \bmod x)$.

      Given an array of positive integers $a$ of length $n$, output $n$ numbers, where the $i$-th number ($1 \leq i \leq n$) is the beauty of the array $a_1, a_2, \ldots, a_i$.

      $x \bmod y$ is the remainder of the division of $x$ by $y$.

      ### Input

      Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1 \le t \le 10^4$). The description of the test cases follows.

      The first line of each test case contains a single integer $n$ ($1 \leq n \leq 10^6$) -- the size of the array $a$.

      The second line of each test case contains $n$ integers $a_1, a_2, \ldots, a_n$ ($1 \leq a_i \leq 10^9$).

      It is guaranteed that the sum of $n$ across all test cases does not exceed $10^6$.

      ### Output

      For each test case, output $n$ integers -- the beauties of all prefixes of the array $a$.

      ### Example

      #### Input #1

      ```

      2

      5

      3 1 4 1 5

      7

      5 11 11 4 2 1 10

      ```

      #### Output #1

      ```
      0 1 4 4 5
      0 6 6 7 7 7 11
      ```

      ### Note

      The beauty of the array $3$ is $0$.

      The beauty of the array $3, 1$ is $f(3, 1) = 1$.

      The beauty of the array $3, 1, 4$ is $f(3, 4) = 4$.

      The beauty of the array $3, 1, 4, 1$ is $f(4, 3) = 4$.

      The beauty of the array $3, 1, 4, 1, 5$ is $f(4, 5) = 5$.

instruction: base
author_email: shz060@ucsd.edu
author: LiveCodeBench Pro Team
difficulty: medium
tags: []
max_agent_timeout_sec: 300
max_test_timeout_sec: 180